some crazy tangent i went on one night in metaprogramming and composition abstraction